<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FOODEDU - Login & Sign Up</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css" />
  <link rel="stylesheet" href="css/auth.css?v=2" />
</head>

<body class="auth-body">
  <div class="auth-background"></div>

  <!-- Back to Home Button -->
  <a href="index.html" class="back-home-btn" aria-label="Kembali ke Beranda">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M19 12H5"></path>
      <path d="M12 19l-7-7 7-7"></path>
    </svg>
    <span>Beranda</span>
  </a>

  <main class="auth-container">
    <!-- Menu Auth -->
    <div class="auth-panel" id="menuAuth">
      <div class="auth-logo-section">
        <img src="asset/logo/foodedu.png" alt="FoodEdu" class="auth-logo-img">
        <h1 class="auth-title">FOODEDU</h1>
        <p class="auth-subtitle">Platform Edukasi Makanan Bergizi</p>
      </div>

      <div class="auth-btn-row">
        <button class="auth-btn auth-btn-primary" id="btnSignup">
          <span>Sign Up</span>
        </button>
        <button class="auth-btn auth-btn-secondary" id="btnLogin">
          <span>Log In</span>
        </button>
      </div>
    </div>

    <!-- Sign Up Form -->
    <form class="auth-panel hidden" id="signupForm" autocomplete="off">
      <div class="auth-form-header">
        <h2>Daftar Akun</h2>
        <p>Bergabung dengan FoodEdu sekarang</p>
      </div>

      <div class="auth-form-group">
        <label for="su_name">Nama Lengkap <span class="required">*</span></label>
        <input type="text" id="su_name" name="su_name" required placeholder="Masukkan nama lengkap" />
      </div>

      <div class="auth-form-group">
        <label for="su_email">Email <span class="required">*</span></label>
        <input type="email" id="su_email" name="su_email" required placeholder="contoh@email.com" />
      </div>

      <div class="auth-form-group">
        <label for="su_phone">No Handphone <span class="required">*</span></label>
        <input type="text" id="su_phone" name="su_phone" required placeholder="08xxxxxxxxxx" />
      </div>

      <div class="auth-form-group">
        <label>Pilih Peran <span class="required">*</span></label>
        <div class="auth-radio-group">
          <label class="auth-radio-label">
            <input type="radio" name="role" value="siswa" required />
            <span>Siswa</span>
          </label>
          <label class="auth-radio-label">
            <input type="radio" name="role" value="ortu" required />
            <span>Orang Tua</span>
          </label>
          <label class="auth-radio-label">
            <input type="radio" name="role" value="sekolah" required />
            <span>Pihak Sekolah</span>
          </label>
          <label class="auth-radio-label">
            <input type="radio" name="role" value="mbg" required />
            <span>Pihak MBG</span>
          </label>
        </div>
      </div>

      <div id="extraFields" class="auth-extra-fields"></div>

      <div class="auth-form-group terms-checkbox-group">
        <div class="terms-layout">
          <label class="checkbox-container-simple">
            <input type="checkbox" id="su_terms" name="terms" required />
            <span class="checkmark-simple"></span>
            <span class="terms-label-text">Saya menyetujui</span>
          </label>
          <a href="#" id="triggerTerms" class="terms-trigger-link">Syarat & Ketentuan</a>
          <span class="terms-suffix-text">yang berlaku.</span>
        </div>

        <!-- Dropdown Content -->
        <div class="terms-dropdown" id="termsDropdown" style="display: none !important;">
          <div class="terms-dropdown-header">
            <button type="button" class="terms-close-btn" id="closeTermsDropdown">×</button>
            <h4>Syarat dan Ketentuan Penggunaan FoodEdu</h4>

          </div>
          <div class="terms-dropdown-body">
            <p>Dengan mendaftar dan/atau menggunakan website FoodEdu, Anda menyatakan telah membaca, memahami, dan
              menyetujui seluruh syarat dan ketentuan berikut.</p>

            <p>FoodEdu adalah platform edukasi dan pengaduan terkait program Makanan Bergizi Gratis (MBG) yang
              menyediakan informasi gizi, edukasi kelayakan makanan, serta wadah pengaduan dan saran bagi Siswa, Orang
              Tua/Wali, dan Pihak Sekolah.</p>

            <p>Pengguna wajib mengisi data secara benar, lengkap, dan dapat dipertanggungjawabkan, termasuk nama, nomor
              identitas (NISN/NIP/ID), email, dan data lain yang diperlukan. Pengguna bertanggung jawab penuh atas
              keamanan akun dan aktivitas yang dilakukan menggunakan akun tersebut.</p>

            <p>FoodEdu mengumpulkan dan menyimpan data pribadi pengguna untuk keperluan autentikasi, penyediaan layanan,
              pengaduan, saran, serta evaluasi program MBG. Data pribadi bersifat rahasia dan dikelola secara aman,
              termasuk penyimpanan kata sandi dalam bentuk terenkripsi. Data tidak akan dibagikan kepada pihak luar
              tanpa persetujuan pengguna, kecuali diwajibkan oleh peraturan perundang-undangan.</p>

            <p>Pengguna dilarang memberikan data palsu, menyalahgunakan sistem, melakukan percobaan peretasan, atau
              tindakan lain yang dapat merugikan sistem dan pengguna lain. FoodEdu berhak menonaktifkan akun atau
              menghapus konten yang melanggar ketentuan ini.</p>

            <p>Informasi yang disediakan di FoodEdu bersifat edukatif dan informatif. FoodEdu tidak bertanggung jawab
              atas keputusan atau tindakan yang diambil oleh pihak lain berdasarkan informasi yang tersedia di website
              ini.</p>

            <p>FoodEdu berhak melakukan perubahan, pembaruan, atau penghentian layanan sewaktu-waktu guna peningkatan
              kualitas dan keamanan sistem.</p>

            <p class="terms-footer-note">Dengan mencentang kotak "Saya menyetujui Syarat dan Ketentuan", pengguna
              menyatakan setuju untuk mematuhi seluruh ketentuan yang berlaku dan memberikan persetujuan atas pengolahan
              data pribadi sesuai dengan kebijakan yang telah ditetapkan.</p>

            <!-- Close Button at Bottom for convenience -->
            <button type="button" class="auth-btn auth-btn-secondary"
              style="margin-top: 15px; width: 100%; padding: 10px;"
              onclick="document.getElementById('termsDropdown').classList.remove('show'); document.getElementById('termsDropdown').style.display='none';">Tutup
              & Kembali</button>
          </div>
        </div>
      </div>

      <div id="signupError" class="auth-error-message"></div>

      <div class="auth-form-actions">
        <button type="submit" class="auth-btn auth-btn-primary" id="submitSignup">
          <span>Buat Akun</span>
        </button>
        <button type="button" class="auth-btn auth-btn-secondary" id="backFromSignup">
          <span>Kembali</span>
        </button>
      </div>
    </form>

    <!-- Login Form -->
    <form class="auth-panel hidden" id="loginForm" autocomplete="off">
      <div class="auth-form-header">
        <h2>Masuk ke Akun</h2>
        <p>Selamat datang kembali!</p>
      </div>

      <div class="auth-form-group">
        <label for="li_user">Username <span class="required">*</span></label>
        <input type="text" id="li_user" name="li_user" required placeholder="Masukkan username" />
      </div>

      <div class="auth-form-group">
        <label for="li_pass">Password <span class="required">*</span></label>
        <div class="password-input-wrapper">
          <input type="password" id="li_pass" name="li_pass" required placeholder="Masukkan password" />
          <button type="button" class="password-toggle" aria-label="Toggle password visibility" data-target="li_pass">
            <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path class="eye-open" d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
              <circle class="eye-open" cx="12" cy="12" r="3"></circle>
              <path class="eye-closed"
                d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"
                style="display:none;"></path>
              <line class="eye-closed" x1="1" y1="1" x2="23" y2="23" style="display:none;"></line>
            </svg>
          </button>
        </div>
      </div>

      <div id="loginError" class="auth-error-message"></div>

      <div class="auth-form-actions">
        <button type="submit" class="auth-btn auth-btn-primary" id="submitLogin">
          <span>Masuk</span>
        </button>
        <button type="button" class="auth-btn auth-btn-link" id="backFromLogin">
          <span>Kembali</span>
        </button>
      </div>
    </form>

    <!-- Welcome Panel / Success Modal -->
    <div class="auth-panel hidden" id="welcomePanel">
      <div class="confetti top-left"></div>
      <div class="confetti bottom-right"></div>
      <div id="resultCard" class="result-card">
        <button class="close-btn" id="resultClose" aria-label="Close">×</button>
        <img src="asset/logo/foodedu.png" alt="FoodEdu" class="auth-logo" id="resultLogo">
        <h2 id="resultTitle"></h2>
        <p id="resultMessage"></p>
        <div id="autoDismissBar" class="auto-dismiss-bar hidden">
          <div id="barFill" class="bar-fill"></div>
        </div>
        <div class="form-actions">
          <button class="auth-btn auth-btn-primary" id="btnGoLogin">
            <span>Masuk ke Login</span>
          </button>
          <button class="auth-btn auth-btn-secondary hidden" id="btnRetry">
            <span>Coba Lagi</span>
          </button>
        </div>
      </div>
    </div>
  </main>

  <script src="js/auth.js"></script>
</body>

</html>
